/*
 * Responsive Design for Smaller MacBooks
 * Optimized for:
 * - MacBook Air 13": 1440x900, 1366x768
 * - MacBook Pro 14": 1512x982 (scaled from 3024x1964)
 * - MacBook Pro 13": 1440x900, 1280x800
 */

/* ============================================
   MEDIA QUERIES FOR SMALLER SCREENS
   ============================================ */

/* MacBook Air 11" and very small screens (1366px and below) */
@media (max-width: 1366px) {
  /* Reduce modal sizes */
  .modal-overlay .modal-content {
    max-width: 90% !important;
    max-height: 85vh !important;
  }

  /* Settings modal */
  .settings-modal {
    max-width: 480px !important;
    max-height: 75vh !important;
  }

  .settings-content {
    max-width: 100% !important;
    padding: 20px 15px !important; /* Reduced from 40px 20px */
  }

  /* Git dialogs */
  .git-history-dialog,
  .git-commit-dialog {
    max-width: 550px !important; /* Reduced from 700px and 600px */
    max-height: 75vh !important;
  }

  .git-status-dialog,
  .git-settings-dialog {
    max-width: 450px !important; /* Reduced from 500px and 550px */
  }

  /* Editor modal */
  .editor-modal {
    max-width: 550px !important; /* Reduced from 600px */
    height: 75vh !important; /* Reduced from 80vh */
  }

  /* Finance dialogs */
  .finance-category-dialog,
  .finance-add-transaction-dialog {
    max-width: 500px !important; /* Reduced from 650px */
    max-height: 70vh !important;
  }

  .finance-chart-dialog {
    max-width: 550px !important;
    max-height: 65vh !important;
  }

  /* Reduce font sizes slightly */
  .header-title {
    font-size: 20px !important; /* Reduced from 24px */
  }

  .empty-state-icon {
    font-size: 52px !important; /* Reduced from 64px */
  }

  .folder-icon {
    font-size: 18px !important; /* Reduced from 20px */
  }

  /* Reduce padding on large elements */
  .category-manager-section {
    padding: 40px 20px !important; /* Reduced from 60px 40px */
  }

  .category-item {
    padding: 30px 15px !important; /* Reduced from 50px 20px */
  }

  /* Finance list spacing */
  .finance-list {
    margin-bottom: 80px !important; /* Reduced from 120px */
  }
}

/* MacBook Air 13" and MacBook Pro 13"/14" (1440px and below) */
@media (max-width: 1440px) {
  /* Slightly reduce modal sizes for 1440px screens */
  .git-history-dialog {
    max-width: 600px !important; /* Reduced from 700px */
  }

  .finance-category-dialog,
  .finance-add-transaction-dialog {
    max-width: 580px !important; /* Reduced from 650px */
  }

  /* Settings adjustments */
  .settings-modal {
    max-width: 490px !important;
  }

  /* Reduce excessive spacing */
  .finance-list {
    margin-bottom: 100px !important;
  }
}

/* Very small screens (1280px and below) - MacBook Air 11", older MacBooks */
@media (max-width: 1280px) {
  /* Aggressive size reduction */
  .modal-overlay .modal-content {
    max-width: 95% !important;
    max-height: 80vh !important;
    padding: 20px 15px !important;
  }

  .settings-modal {
    max-width: 450px !important;
    max-height: 70vh !important;
  }

  .git-history-dialog,
  .git-commit-dialog {
    max-width: 500px !important;
    max-height: 70vh !important;
  }

  .git-status-dialog,
  .git-settings-dialog {
    max-width: 420px !important;
  }

  .editor-modal {
    max-width: 500px !important;
    height: 70vh !important;
  }

  .finance-category-dialog,
  .finance-add-transaction-dialog,
  .finance-chart-dialog {
    max-width: 480px !important;
    max-height: 65vh !important;
  }

  /* More aggressive font size reduction */
  .header-title {
    font-size: 18px !important;
  }

  .empty-state-icon {
    font-size: 48px !important;
  }

  h2 {
    font-size: 20px !important;
  }

  /* Compact padding */
  .category-manager-section {
    padding: 30px 15px !important;
  }

  .category-item {
    padding: 20px 12px !important;
  }

  .settings-content {
    padding: 15px 12px !important;
  }

  /* Reduce button sizes */
  .btn-icon {
    padding: 6px !important;
  }

  .action-menu-trigger {
    padding: 6px !important;
  }
}

/* Height-specific adjustments for MacBook Air (900px height) */
@media (max-height: 900px) {
  /* Reduce vertical spacing */
  .modal-overlay .modal-content {
    max-height: 75vh !important;
    padding: 20px 15px !important;
  }

  .settings-modal,
  .git-history-dialog,
  .git-commit-dialog {
    max-height: 70vh !important;
  }

  .editor-modal {
    height: 70vh !important;
  }

  .finance-category-dialog,
  .finance-add-transaction-dialog,
  .finance-chart-dialog {
    max-height: 65vh !important;
  }

  /* Reduce vertical padding */
  .category-manager-section {
    padding: 30px 20px !important;
  }

  .category-item {
    padding: 25px 15px !important;
  }

  .empty-state {
    padding: 30px 20px !important;
  }
}

/* Very short screens (800px height and below) - MacBook Air 11" */
@media (max-height: 800px) {
  /* Aggressive height reduction */
  .modal-overlay .modal-content {
    max-height: 70vh !important;
    padding: 15px 12px !important;
  }

  .settings-modal,
  .git-history-dialog,
  .git-commit-dialog,
  .editor-modal {
    max-height: 65vh !important;
  }

  .finance-category-dialog,
  .finance-add-transaction-dialog,
  .finance-chart-dialog {
    max-height: 60vh !important;
  }

  /* Compact vertical spacing */
  .category-manager-section,
  .category-item,
  .settings-content,
  .empty-state {
    padding: 20px 15px !important;
  }

  /* Smaller fonts for short screens */
  .empty-state-icon {
    font-size: 40px !important;
  }

  h2 {
    font-size: 18px !important;
  }
}

/* Combined: Small width AND small height (MacBook Air 11": 1366x768, 1280x720) */
@media (max-width: 1366px) and (max-height: 768px) {
  /* Ultra-compact mode */
  .modal-overlay .modal-content {
    max-width: 95% !important;
    max-height: 70vh !important;
    padding: 15px !important;
  }

  .settings-modal {
    max-width: 450px !important;
    max-height: 65vh !important;
  }

  .git-history-dialog,
  .git-commit-dialog {
    max-width: 500px !important;
    max-height: 65vh !important;
  }

  .editor-modal {
    max-width: 500px !important;
    height: 65vh !important;
  }

  .finance-category-dialog,
  .finance-add-transaction-dialog,
  .finance-chart-dialog {
    max-width: 450px !important;
    max-height: 60vh !important;
  }

  /* Ultra-compact spacing */
  .category-manager-section,
  .category-item,
  .settings-content,
  .empty-state {
    padding: 15px 10px !important;
  }

  /* Compact fonts */
  .header-title {
    font-size: 18px !important;
  }

  .empty-state-icon {
    font-size: 40px !important;
  }

  h2 {
    font-size: 18px !important;
  }

  .folder-icon {
    font-size: 16px !important;
  }

  /* Reduce button padding */
  .btn-icon,
  .action-menu-trigger {
    padding: 5px !important;
  }

  /* Compact list spacing */
  .finance-list {
    margin-bottom: 60px !important;
  }
}

/* ============================================
   RESPONSIVE TYPOGRAPHY
   ============================================ */

/* Base font size scaling for readability on smaller screens */
@media (max-width: 1366px) {
  body {
    font-size: 14px !important; /* Slightly reduced from default */
  }
}

@media (max-width: 1280px) {
  body {
    font-size: 13px !important;
  }
}

/* ============================================
   TOUCH-FRIENDLY IMPROVEMENTS
   ============================================ */

/* Ensure minimum tap target size (44x44px) for better usability */
@media (max-width: 1440px) {
  .btn-icon,
  .action-menu-trigger,
  .btn-delete-folder,
  .folder-item {
    min-height: 36px !important; /* Slightly smaller for desktop, but still usable */
    min-width: 36px !important;
  }
}

/* ============================================
   SCROLLBAR OPTIMIZATIONS FOR SMALL SCREENS
   ============================================ */

/* On smaller screens, use thinner scrollbars to save space */
@media (max-width: 1366px) {
  .folder-list::-webkit-scrollbar,
  .editor-content::-webkit-scrollbar,
  .editor-content-single::-webkit-scrollbar,
  .note-list::-webkit-scrollbar {
    width: 4px !important; /* Reduced from 6px */
  }
}
